\newenvironment{document}{<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://www.w3.org/Math/XSL/mathml.xsl"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0 plus SVG 1.1//EN" "http://www.w3.org/2002/04/xhtml-math-svg/xhtml-math-svg-flat.dtd" >
<html xmlns="http://www.w3.org/1999/xhtml"><head>\doctitle</head><body><p>\outputtrue}{\outputfalse</p></body></html>}

\newcommand{\title}[1]{\def\doctitle{<title>#1</title>}}
\def\doctitle{}
\newcommand{\begin}[1]{\csname #1\endcsname}
\newcommand{\end}[1]{\csname end#1\endcsname}
\newcommand{\newif}[1]{\expandafter\newcommand\expandafter{\csname if#1\endcsname}{\if{#1}}\expandafter\newcommand\expandafter{\csname #1true\endcsname}{\true{#1}}\expandafter\newcommand\expandafter{\csname #1false\endcsname}{\false{#1}}\csname #1false\endcsname}

\newif{mmode}
\newcommand{\(}{<math xmlns='http://www.w3.org/1998/Math/MathML' display="inline"><mstyle displaystyle="false"><mrow>\mmodetrue}
\newcommand{\[}{\par<math xmlns='http://www.w3.org/1998/Math/MathML' display="block"><mstyle displaystyle="true"><mrow>\mmodetrue}
\newcommand{\]}{</mrow></mstyle></math>\mmodefalse\par}

\newif{array}
\newcommand{\amporcol}{\ifarray </mtd><mtd>\else &amp;\fi}
\newenvironment{array}[1][]{\ifmmode <mrow><mtable #1><mtr><mtd>\arraytrue\fi}{\arrayfalse</mtd></mtr></mtable></mrow>}

\newenvironment{itemize}{\def\item{\def\item{</p></li><li><p>}}</p><ul><li><p>}{</p></li></ul><p>}
\newenvironment{enumerate}{\def\item{\def\item{</p></li><li><p>}}</p><ol><li><p>}{</p></li></ol><p>}

\newcommand{\section}[1]{\refstepcounter{section}</p><h1>\thesection\ #1</h1><p>}
\newcommand{\subsection}[1]{\refstepcounter{subsection}</p><h2>\thesubsection\   #1</h2><p>}
\newcommand{\subsubsection}[1]{\refstepcounter{subsubsection}</p><h3>\thesubsubsection\   #1</h3><p>}

\newcounter{section}
\newcounter{subsection}
\newcounter{subsubsection}
\newcommand{\thesubsection}{\usecounter{section}.\usecounter{subsection}}
\newcommand{\thesubsubsection}{\usecounter{section}.\usecounter{subsection}.\usecounter{thesubsubsection}}


\newcommand{\newline}{\ifmmode\ifarray </mtd></mtr><mtr><mtd>\fi\else<br />\fi}
\newcommand{\par}{</p><p>}
\newcommand{\emph}[1]{<i>#1</i>}
\newcommand{\textbf}[1]{<strong>#1</strong>}

\newcommand{\"}[1]{\entity{#1uml}}
\newcommand{\`}[1]{\entity{#1grave}}
\newcommand{\'}[1]{\entity{#1acute}}
\newcommand{\^}[1]{\entity{#1circ}}
\newcommand{\~}[1]{\entity{#1tilde}}
\newcommand{\c}[1]{\entity{#1cedil}}
% Not sure why this works, but it does ...
\newcommand{\ }{ }

\def\parensize{stretchy="false"}
\newcommand{\mathop}[2][]{\ifmmode<mo #1>#2</mo>\else #2\fi}
\newcommand{\mathnum}[2][]{\ifmmode<mn #1>#2</mn>\else #2\fi}
\newcommand{\mathchar}[2][]{\ifmmode<mi #1>#2</mi>\else #2\fi}
\newcommand{\mathparen}[1]{\expandafter\mathop\expandafter[\parensize]{#1}}
\newcommand{\left}[1]{\def\parensize{} #1\def\parensize{stretchy="false"}}
\newcommand{\right}[1]{\def\parensize{} #1\def\parensize{stretchy="false"}}


\newcommand{\frac}[3][]{<mfrac #1><mrow>#2</mrow><mrow>#3</mrow></mfrac>}

\newcommand{\sqrt}[1]{<msqrt>#1</msqrt>}
\newcommand{\root}[2]{<mroot><mrow>#1</mrow><mrow>#2</mrow></mroot>}

\newcommand{\rule}[2]{<mspace width="#1" height="#2" style="background-color: black" />}
\newcommand{\!}{<mspace width="-.5em" />}
\newcommand{\negspace}{\!}
\newcommand{\,}{<mspace width="1em" />}
\newcommand{\thinspace}{\,}
\newcommand{\:}{<mspace width="1em" />}
\newcommand{\medspace}{\:}
\newcommand{\;}{<mspace width="1em" />}
\newcommand{\thickspace}{\;}
\newcommand{\quad}{<mspace width="1em" />}
\newcommand{\qquad}{<mspace width="1em" />}

\newcommand{\ae}{&aelig;}
\newcommand{\AE}{&AElig;}
\newcommand{\oe}{&oelig;}
\newcommand{\OE}{&OElig;}
\newcommand{\aa}{&aring;}
\newcommand{\AA}{&Aring;}
\newcommand{\o}{&oslash;}
\newcommand{\O}{&Oslash;}
\newcommand{\ss}{&szlig;}

\newcommand{\dag}{&dagger;}
\newcommand{\ddag}{&Dagger;}
\newcommand{\S}{&sect;}
\newcommand{\P}{&para;}
\newcommand{\copyright}{&copy;}
\newcommand{\pounds}{&pound;}

\newcommand{\aleph}{\mathchar{&alefsym;}}

\newcommand{\wp}{\mathchar{&weierp;}}
\newcommand{\Re}{\mathchar{&real;}}
\newcommand{\Im}{\mathchar{&image;}}
\newcommand{\surd}{\mathchar{&radic;}}
\newcommand{\angle}{\mathchar{&ang;}}
\newcommand{\partial}{\mathchar{&part;}}
\newcommand{\infty}{\mathchar{&infin;}}
\newcommand{\clubsuit}{\mathchar{&clubs;}}
\newcommand{\diamondsuit}{\mathchar{&diams;}}
\newcommand{\heartsuit}{\mathchar{&hearts;}}
\newcommand{\spadesuit}{\mathchar{&spades;}}
\newcommand{\cdot}{\mathchar{&sdot;}}
\newcommand{\vartheta}{\mathchar{&thetasym;}}
\newcommand{\varpi}{\mathchar{&piv;}}
\newcommand{\dots}{\mathchar{&hellip;}}
\newcommand{\in}{\mathchar{&isin;}}
\newcommand{\to}{\mathchar{&rarr;}}
\newcommand{\approx}{\mathchar{&asymp;}}
\newcommand{\propto}{\mathchar{&prop;}}
\newcommand{\neq}{\mathop{&ne;}}
\newcommand{\neg}{\mathop{&not;}}
\newcommand{\wedge}{\mathop{&and;}}
\newcommand{\vee}{\mathop{&or;}}
\newcommand{\supset}{\mathop{&sup;}}
\newcommand{\subset}{\mathop{&sub;}}
\newcommand{\emptyset}{\mathchar{&empty;}}
\newcommand{\pm}{\mathchar{&plusm;}}
\newcommand{\implies}{\mathop{&rArr;}}

\newcommand{\prime}{\mathchar{&prime;}}
\newcommand{\nabla}{\mathchar{&nabla;}}
\newcommand{\forall}{\mathchar{&forall;}}
\newcommand{\times}{\mathop{&times;}}
\newcommand{\notin}{\mathop{&notin;}}
\newcommand{\ni}{\mathop{&ni;}}
\newcommand{\prod}{\mathop[movablelimits="true"]{&prod;}}
\newcommand{\sum}{\mathop[movablelimits="true"]{&sum;}}
\newcommand{\ast}{\mathop{&ast;}}
\newcommand{\equiv}{\mathop{&equiv;}}
\newcommand{\sim}{\mathop{&sim;}}
\newcommand{\oplus}{\mathchar{&oplus;}}
\newcommand{\cap}{\mathop{&cap;}}
\newcommand{\cup}{\mathop{&cup;}}
\newcommand{\rfloor}{\mathop{&rfloor;}}
\newcommand{\euro}{\mathchar{&euro;}}
\newcommand{\int}{\mathop[movablelimits="true"]{&int;}}
\newcommand{\cong}{\mathop{&cong;}}
\newcommand{\ne}{\mathop{&ne;}}
\newcommand{\le}{\mathop{&le;}}
\newcommand{\ge}{\mathop{&ge;}}
\newcommand{\gt}{\mathop{&gt;}}
\newcommand{\lt}{\mathop{&lt;}}
\newcommand{\otimes}{\mathop{&otimes;}}
\newcommand{\perp}{\mathop{&perp;}}
\newcommand{\alpha}{\mathchar{&alpha;}}
\newcommand{\beta}{\mathchar{&beta;}}
\newcommand{\gamma}{\mathchar{&gamma;}}
\newcommand{\delta}{\mathchar{&delta;}}
\newcommand{\epsilon}{\mathchar{&epsilon;}}
\newcommand{\zeta}{\mathchar{&zeta;}}
\newcommand{\eta}{\mathchar{&eta;}}
\newcommand{\theta}{\mathchar{&theta;}}
\newcommand{\iota}{\mathchar{&iota;}}
\newcommand{\kappa}{\mathchar{&kappa;}}
\newcommand{\lambda}{\mathchar{&lambda;}}
\newcommand{\mu}{\mathchar{&mu;}}
\newcommand{\nu}{\mathchar{&nu;}}
\newcommand{\xi}{\mathchar{&xi;}}
\newcommand{\omicron}{\mathchar{&omicron;}}
\newcommand{\pi}{\mathchar{&pi;}}
\newcommand{\rho}{\mathchar{&rho;}}
\newcommand{\sigma}{\mathchar{&sigma;}}
\newcommand{\tau}{\mathchar{&tau;}}
\newcommand{\upsilon}{\mathchar{&upsilon;}}
\newcommand{\phi}{\mathchar{&phi;}}
\newcommand{\chi}{\mathchar{&chi;}}
\newcommand{\psi}{\mathchar{&psi;}}
\newcommand{\omega}{\mathchar{&omega;}}
